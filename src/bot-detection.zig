//! Bot Detection
//!
//! It does something, what that something is? who know, but it's big!

bot: bool,

const BotDetection = @This();

pub fn init() BotDetection {}

pub const Browsers = struct {
    pub const Chrome = struct {
        pub const Version = enum(u16) {
            _,
        };
        pub const Versions = struct {
            const pairs = [_]struct { u16, f64 }{
                .{ 0, 1227513600 },  .{ 1, 1228982400 },  .{ 2, 1243148400 },  .{ 3, 1255330800 },
                .{ 4, 1264406400 },  .{ 5, 1274425200 },  .{ 6, 1283410800 },  .{ 7, 1287644400 },
                .{ 8, 1291276800 },  .{ 9, 1296720000 },  .{ 10, 1299571200 }, .{ 11, 1303887600 },
                .{ 12, 1307430000 }, .{ 13, 1312268400 }, .{ 14, 1316156400 }, .{ 15, 1319526000 },
                .{ 16, 1323763200 }, .{ 17, 1328688000 }, .{ 18, 1332918000 }, .{ 19, 1337065200 },
                .{ 20, 1340694000 }, .{ 21, 1343718000 }, .{ 22, 1348556400 }, .{ 23, 1352188800 },
                .{ 24, 1357804800 }, .{ 25, 1361433600 }, .{ 26, 1364281200 }, .{ 27, 1369119600 },
                .{ 28, 1371452400 }, .{ 29, 1376982000 }, .{ 30, 1379487600 }, .{ 31, 1384243200 },
                .{ 32, 1389686400 }, .{ 33, 1392710400 }, .{ 34, 1396422000 }, .{ 35, 1400569200 },
                .{ 36, 1405407600 }, .{ 37, 1409036400 }, .{ 38, 1412665200 }, .{ 39, 1415779200 },
                .{ 40, 1421740800 }, .{ 41, 1425369600 }, .{ 42, 1428994800 }, .{ 43, 1432018800 },
                .{ 44, 1437462000 }, .{ 45, 1441090800 }, .{ 46, 1444719600 }, .{ 47, 1448956800 },
                .{ 48, 1453276800 }, .{ 49, 1456905600 }, .{ 50, 1460530800 }, .{ 51, 1464159600 },
                .{ 52, 1468998000 }, .{ 53, 1472626800 }, .{ 54, 1476255600 }, .{ 55, 1480579200 },
                .{ 56, 1485331200 }, .{ 57, 1489046400 }, .{ 58, 1492585200 }, .{ 59, 1496646000 },
                .{ 60, 1500966000 }, .{ 61, 1504594800 }, .{ 62, 1508223600 }, .{ 63, 1512460800 },
                .{ 64, 1516694400 }, .{ 65, 1520323200 }, .{ 66, 1523948400 }, .{ 67, 1527577200 },
                .{ 68, 1532415600 }, .{ 69, 1536044400 }, .{ 70, 1539673200 }, .{ 71, 1543910400 },
                .{ 72, 1548748800 }, .{ 73, 1552374000 }, .{ 74, 1556002800 }, .{ 75, 1559631600 },
                .{ 76, 1564470000 }, .{ 77, 1568098800 }, .{ 78, 1571727600 }, .{ 79, 1575964800 },
                .{ 80, 1580803200 }, .{ 81, 1586242800 }, .{ 82, 0 },          .{ 83, 1589871600 },
                // version 82 was never released
                .{ 84, 1594710000 }, .{ 85, 1598338800 }, .{ 86, 1601967600 }, .{ 87, 1605600000 },
                .{ 88, 1611043200 }, .{ 89, 1614672000 }, .{ 90, 1618297200 }, .{ 91, 1621926000 },
                .{ 92, 1626764400 }, .{ 93, 1630393200 },
                .{ 94, 1630393200 },
                // start made up
                .{ 95, 0 }, // oct 19 2021
                .{ 96, 0 }, // nov 16 2021
                .{ 97, 0 }, // jan 3 2022
                .{ 98, 0 }, // feb 1 2022
                .{ 99, 0 }, // mar 2 2022
                .{ 100, 0 }, // march 29 2022
                .{ 101, 0 }, // may 3 2022
                .{ 102, 0 }, // june 9 2022
                .{ 103, 0 }, // june 23 2022
                .{ 104, 0 }, // aug 2 2022
                .{ 105, 0 }, // aug 20 2022
                .{ 106, 0 }, // sep 27 2022
                .{ 107, 0 }, // oct 25 2022
                .{ 108, 0 }, // nov 29 2022
                .{ 109, 0 }, // jan 10 2023
                .{ 110, 0 }, // feb 7 2023
                // end made up
                .{ 111, 1677657600 },
                .{ 112, 1680073200 },
                .{ 113, 1682492400 },
                .{ 114, 1684911600 },
                .{ 115, 1689145200 },
                .{ 116, 1691564400 },
                .{ 117, 1694156400 },
                .{ 118, 1696402800 },
                .{ 119, 1698217200 },
                .{ 120, 1701244800 },
                .{ 121, 1705478400 },
                .{ 122, 1707897600 },
                .{ 123, 1710313200 },
                .{ 124, 1712732400 },
                .{ 125, 1715151600 },
                .{ 126, 1717570800 },
                .{ 127, 1721199600 },
                .{ 128, 1723618800 },
                .{ 129, 1726038000 },
                .{ 130, 1728457200 },
                .{ 131, 1730880000 },
                .{ 132, 1736323200 },
                .{ 133, 1738137600 },
                .{ 134, 1740556800 },
            };
            pub const release_date: [pairs.len]i64 = brk: {
                var list: [pairs.len]i64 = @splat(0);

                for (pairs) |line| {
                    std.debug.assert(list[line[0]] == 0);
                    list[line[0]] = line[1];
                }
                break :brk list;
            };
        };
    };
};

test Browsers {
    _ = &Browsers.Chrome.Version;
    try std.testing.expectEqual(Browsers.Chrome.Versions.release_date[93], 1630393200);
    //for (0.., Browsers.Chrome.Versions.release) |i, date| {
    //    std.debug.print("{} on {}\n", .{ i, date });
    //}
}

const std = @import("std");
